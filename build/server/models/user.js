// Generated by CoffeeScript 1.9.0
var User, cozydb;

cozydb = require('cozy-db-pouchdb');

module.exports = User = {};

User.updateUser = function(callback) {
  return cozydb.api.getCozyUser(function(err, user) {
    if (err || !user) {
      console.log(err);
      User.timezone = 'Europe/Paris';
      User.email = '';
    } else {
      User.timezone = user.timezone || "Europe/Paris";
      User.email = user.email;
    }
    return typeof callback === "function" ? callback() : void 0;
  });
};
